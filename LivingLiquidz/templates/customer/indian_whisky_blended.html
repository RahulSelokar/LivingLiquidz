{% extends 'base.html' %}

{% block title %} whisky blended {% endblock %}

{% block content %}
{% load static %}


    <style>
        .container {
            margin-top: 20px; /* Adjust the value as needed */
          }
        /* Custom styles for product boxes */
        .product-box {
          border: 1px solid #ccc;
          margin-bottom: 20px;
          padding: 10px;
        }
        .product-img {
          max-width: 100%;
          height: auto;
        }
        .compare-button{
          background-color: #311528 !important;
          color: white !important;
        }
        .modal-header, h4, .close {
          background-color: #5cb85c;
          color:white !important;
          text-align: center;
          font-size: 30px;
        }
        .modal-footer {
          background-color: #f9f9f9;
        }
      
      </style>
  <div class="container">
    <div class="row">
      <!-- Filters Column -->
      <div class="col-md-3">
        <div class="filters-box">
          <h2>Filters</h2>
          <!-- Add your filter options here -->
          <div class="form-group">
            <label for="filterOption1">Filter Option 1:</label>
            <select class="form-control" id="filterOption1">
              <option value="option1">Option 1</option>
              <option value="option2">Option 2</option>
              <option value="option3">Option 3</option>
            </select>
          </div>
          <div class="form-group">
            <label for="filterOption2">Filter Option 2:</label>
            <select class="form-control" id="filterOption2">
              <option value="option1">Option 1</option>
              <option value="option2">Option 2</option>
              <option value="option3">Option 3</option>
            </select>
          </div>
          <div class="form-group">
            <label for="filterOption2">Filter Option 2:</label>
            <select class="form-control" id="filterOption2">
              <option value="option1">Option 1</option>
              <option value="option2">Option 2</option>
              <option value="option3">Option 3</option>
            </select>
          </div>
          <div class="form-group">
            <label for="filterOption2">Filter Option 2:</label>
            <select class="form-control" id="filterOption2">
              <option value="option1">Option 1</option>
              <option value="option2">Option 2</option>
              <option value="option3">Option 3</option>
            </select>
          </div>
          <!-- Add more filter options as needed -->
        </div>
      </div>
      <!-- Products Column -->
      <div class="col-md-9">
        <div class="form-group mt-3 mb-3">
          <label for="filterOption1">Sort By:</label>
          <select class="form-control" id="filterOption1">
            <option value="option1">Price Low to High</option>
            <option value="option2">Price High to Low</option>
            <option value="option3">Name A-Z</option>
            <option value="option3">Name Z-A</option>
          </select>
        </div>
        <div class="row">
          <!-- Product 1 -->
          {% for i in indian_whisky_blended %}
          <div class="col-lg-6">
            <div class="product-box">
              <div class="row">
                <div class="col-md-4">
                    <img src="/media/{{ i.product_image }}" class="product-img" alt="Product 1">
                </div>
                <div class="col-md-8">
                    <h6>{{i.title}}</h6>
                    <p>{{i.description}}</p>
                    <p>{{i.price}} Rs</p>
                    {% for s in i.get_sizes %}
                        <button onclick="showPrice('{{ s.size }}')">{{ s.size }}</button>
                    {% endfor %}
                    <form method="post">
                      {% csrf_token %}
                      <input type="hidden" name="product_id" value="{{ i.id }}">
                      <button type="submit" class="btn compare-button" data-product-id="{{ i.id }}">Compare</button>
                  </form>
                </div>
              </div>
            </div>
          </div>
         
          {% endfor %}         
        </div>
        {% if table_data %}
          {{ table_data|safe }}
        {% endif %}  
      </div> 
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script>
    function showPrice(size) {
        // Iterate over all sizes passed from Django template
        {% for size in product.get_sizes %}
            // Check if the current size matches the selected size
            {% if size.size == size %}
                var price = {{ size.price }};
                document.getElementById("price-display").innerText = "Price: " + price;
                return; // Exit the function after finding the price
            {% endif %}
        {% endfor %}
        // If the size is not found, display "N/A"
        document.getElementById("price-display").innerText = "Price: N/A";
    }
</script>
  
{% endblock %}
